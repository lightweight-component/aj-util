<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <title>AJ Utils-DataReader/ æ•™ç¨‹</title>
        <meta name="description" content="Small Java utilities with many useful functions.  DataReader/ ç±»æä¾›äº†æµæ“ä½œå’Œè½¬æ¢çš„å®ç”¨æ–¹æ³•" />
        <meta name="keywords" content="AJ Utils, ajaxjs, ajaxjs framework, java utilities, tools, helper, æµæ“ä½œ,I/O,Java" />
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap&family=Noto+Sans+SC:wght@100..900&display=swap" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@100..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap" /> 
        <link rel="stylesheet" href="https://framework.ajaxjs.com/static/new-ui/css/common.css" />
        <link rel="stylesheet" href="https://iam.ajaxjs.com/asset/main.css"/>
        <link rel="icon" type="image/x-icon" href="https://framework.ajaxjs.com/aj-logo/logo.ico"/>
        <script src="https://framework.ajaxjs.com/static/aj-docs/common.js"></script>
        <script>
            var _hmt = _hmt || [];
            (function() {
              var hm = document.createElement("script");
              hm.src = "https://hm.baidu.com/hm.js?208c5aea11c52991bd1c3283e62ad0ce";
              var s = document.getElementsByTagName("script")[0];
              s.parentNode.insertBefore(hm, s);
            })();
        </script>
    </head>
    <body>
        <nav>
            <div>
                <div class="links">
                    <a href="/cn">ğŸ  é¦–é¡µ</a>
                    | âš™ï¸ æºç :
                    <a target="_blank" href="https://github.com/lightweight-component/aj-util">Github</a>/<a target="_blank" href="https://gitcode.com/lightweight-component/aj-util">Gitcode</a>
                  
                    | ğŸš€<a href="">è‹±è¯­ç‰ˆæœ¬</a>
                </div>
                <h1>
                    <img src="https://framework.ajaxjs.com/aj-logo/logo.png" style="vertical-align: middle;height: 45px;margin-bottom: 6px;" />
                    AJ Utils
                </h1>
                <h3>å°å‹ã€å¹²å‡€ã€ç®€å•çš„ Java å·¥å…·åº“
                </h3>
            </div>
        </nav>
        <div>
            <menu>
                
                <ul>
                    <li class="selected">
                        <a href="/cn">é¦–é¡µ</a>
                    </li>
                </ul>
                <h3>Common å¸¸ç”¨æ¨¡å—</h3>
                <ul>
                    <li><a href="/common/JsonUtil-cn/">JsonUtil</a></li>
                    <li><a href="/common/Base64Helper-cn/">Base64Helper</a></li>
                    <li><a href="/common/ConvertBasicValue-cn/">ConvertBasicValue</a></li>
                    <li><a href="/common/MessageDigestHelper-cn/">HashHelper</a></li>
                    <li><a href="/common/MapTool-cn/">MapTool</a></li>
                    <li><a href="/common/ObjectHelper-cn/">ObjectHelper</a></li>
                    <li><a href="/common/RandomTools-cn/">RandomTools</a></li>
                    <li><a href="/common/RegExpUtils-cn/">RegExpUtils</a></li>
                    <li><a href="/common/StrUtil-cn/">StrUtil</a></li>
                    <li><a href="/common/BoxLogger-cn/">BoxLogger</a></li>
                    <li><a href="/common/BytesHelper-cn/">BytesHelper</a></li>
                    <li><a href="/common/EncodeTools-cn/">UrlEncode</a></li>
                    <li><a href="/common/XmlHelper-cn/">XmlHelper</a></li>
                    <li><a href="/common/WebUtils-cn/">WebUtils</a></li>
                </ul>
                <h3>Date æ—¥æœŸå¤„ç†</h3>
                <ul>
                    <li><a href="/date/intro-cn/">ç®€ä»‹</a></li>
                    <li><a href="/date/convert-cn/">ä¸‡èƒ½æ—¥æœŸç±»å‹è½¬æ¢</a></li>
                    <li><a href="/date/formatter-cn/">æ—¥æœŸæ ¼å¼åŒ–</a></li>
                </ul>
                <h3>Reflection åå°„</h3>
                <ul>
                    <li><a href="/reflect/Methods-cn/">Methods</a></li>
                    <li><a href="/reflect/Types-cn/">Types</a></li>
                    <li><a href="/reflect/Clazz-cn/">Clazz</a></li>
                </ul>

                <h3>Input/Output è¾“å…¥/è¾“å‡º</h3>
                <ul>
                    <li><a href="/io/FileHelper-cn/">FileHelper</a></li>
                    <li><a href="/io/Resources-cn/">Resources</a></li>
                    <li><a href="/io/StreamHelper-cn/">DataReader/DataWriter</a></li>
                    <li><a href="/io/ZipHelper-cn/">ZipHelper</a></li>
                </ul>

                <h3>HTTP è¯·æ±‚</h3>
                <ul>
                    <li><a href="/http_request/Get-cn">HTTP è¯·æ±‚</a></li>
                     <li><a href="/http_request/advanced-usage-cn/">é«˜çº§ç”¨æ³•</a></li>
                    <li><a href="/http_request/Base-cn/">Base</a></li>
                </ul>

                <h3>åŠ å¯†/è§£å¯†</h3>
                <ul>
                    <li><a href="/cryptography/intro-cn/">ç®€ä»‹</a></li>
                    <li><a href="/cryptography/flow-cn/">åŸºæœ¬æµç¨‹</a></li>
                    <li><a href="/cryptography/AesCrypto-cn/">AES/DES åŠ å¯†è§£å¯†</a></li>
                    <li><a href="/cryptography/RsaCrypto-cn/">RSA åŠ å¯†è§£å¯†</a></li>
                </ul>
            </menu>
            <article class="aj-text chinese">
                <h1>DataReader ä½¿ç”¨æ•™ç¨‹</h1>
<p>DataReader æ˜¯ä¸€ä¸ªç”¨äºä»è¾“å…¥æµè¯»å–æ•°æ®çš„è¯»å–å™¨ç±»ã€‚å®ƒæ”¯æŒä»æ–‡ä»¶ã€ç½‘ç»œå¥—æ¥å­—æˆ–å†…å­˜ç¼“å†²åŒºç­‰æºè¯»å–åŸå§‹å­—èŠ‚æ•°æ®ï¼ŒåŒæ—¶æä¾›äº†å¤„ç†æ–‡æœ¬å’ŒäºŒè¿›åˆ¶æ•°æ®çš„åŠŸèƒ½ã€‚</p>
<h2>ä¸»è¦åŠŸèƒ½ç‰¹æ€§</h2>
<ol>
<li><strong>å¤šç§æ•°æ®è¯»å–æ–¹å¼</strong>ï¼šæ”¯æŒå­—èŠ‚æµã€æ–‡æœ¬è¡Œã€å®Œæ•´å­—ç¬¦ä¸²ç­‰å¤šç§è¯»å–æ–¹å¼</li>
<li><strong>å­—ç¬¦ç¼–ç æ”¯æŒ</strong>ï¼šå¯æŒ‡å®šå­—ç¬¦ç¼–ç ï¼Œé»˜è®¤ä½¿ç”¨ UTF-8</li>
<li><strong>æµå¼å¤„ç†</strong>ï¼šæ”¯æŒå¤§æ–‡ä»¶çš„åˆ†å—å¤„ç†ï¼Œé¿å…å†…å­˜æº¢å‡º</li>
<li><strong>å‡½æ•°å¼ç¼–ç¨‹</strong>ï¼šä½¿ç”¨å‡½æ•°å¼æ¥å£å¤„ç†è¯»å–çš„æ•°æ®</li>
</ol>
<h2>åŸºæœ¬ä½¿ç”¨æ–¹æ³•</h2>
<h3>1. åˆ›å»ºå®ä¾‹</h3>
<pre><code class="language-java">// ä½¿ç”¨é»˜è®¤ UTF-8 ç¼–ç åˆ›å»ºå®ä¾‹
InputStream inputStream = new FileInputStream(&quot;example.txt&quot;);
DataReader reader = new DataReader(inputStream);

// æŒ‡å®šå­—ç¬¦ç¼–ç åˆ›å»ºå®ä¾‹
DataReader readerWithEncoding = new DataReader(inputStream, StandardCharsets.UTF_8);
</code></pre>
<h3>2. è¯»å–å­—èŠ‚æ•°æ®</h3>
<pre><code class="language-java">// ä»¥å­—èŠ‚å½¢å¼è¯»å–æµæ•°æ®
InputStream inputStream = new FileInputStream(&quot;large-file.bin&quot;);
DataReader reader = new DataReader(inputStream);

reader.readStreamAsBytes(8192, (readSize, buffer) -&gt; {
    // å¤„ç†è¯»å–åˆ°çš„æ•°æ®
    System.out.println(&quot;è¯»å–åˆ° &quot; + readSize + &quot; å­—èŠ‚æ•°æ®&quot;);
    // å¯ä»¥åœ¨è¿™é‡Œå¤„ç† buffer ä¸­çš„æ•°æ®
});
</code></pre>
<h3>3. è¯»å–æ–‡æœ¬è¡Œ</h3>
<pre><code class="language-java">// é€è¡Œè¯»å–æ–‡æœ¬æ•°æ®
InputStream inputStream = new FileInputStream(&quot;text-file.txt&quot;);
DataReader reader = new DataReader(inputStream);

reader.readAsLineString(line -&gt; {
    System.out.println(&quot;è¯»å–åˆ°ä¸€è¡Œ: &quot; + line);
    // å¤„ç†æ¯ä¸€è¡Œæ–‡æœ¬
});
</code></pre>
<h3>4. è¯»å–å®Œæ•´å­—ç¬¦ä¸²</h3>
<pre><code class="language-java">// è¯»å–æ•´ä¸ªè¾“å…¥æµä¸ºå­—ç¬¦ä¸²
InputStream inputStream = new FileInputStream(&quot;text-file.txt&quot;);
DataReader reader = new DataReader(inputStream);

String content = reader.readAsString();
System.out.println(&quot;æ–‡ä»¶å†…å®¹: &quot; + content);
</code></pre>
<h3>5. è¯»å–å­—èŠ‚æ•°ç»„</h3>
<pre><code class="language-java">// è¯»å–æ•´ä¸ªè¾“å…¥æµä¸ºå­—èŠ‚æ•°ç»„
InputStream inputStream = new FileInputStream(&quot;binary-file.bin&quot;);
DataReader reader = new DataReader(inputStream);

byte[] bytes = reader.readAsBytes();
System.out.println(&quot;å­—èŠ‚æ•°ç»„é•¿åº¦: &quot; + bytes.length);
</code></pre>
<h3>æ³¨æ„äº‹é¡¹</h3>
<ol>
<li>readStreamAsBytes æ–¹æ³•ä¼šåœ¨è¯»å–å®Œæˆåè‡ªåŠ¨å…³é—­è¾“å…¥æµ</li>
<li>æ‰€æœ‰æ–¹æ³•åœ¨å‘ç”Ÿ IO é”™è¯¯æ—¶éƒ½ä¼šæŠ›å‡º <code>UncheckedIOException</code></li>
<li>å¯¹äºå¤§æ–‡ä»¶å¤„ç†ï¼Œæ¨èä½¿ç”¨ readStreamAsBytes æ–¹æ³•è¿›è¡Œåˆ†å—å¤„ç†</li>
<li>readAsString æ–¹æ³•ä¼šåœ¨æ¯è¡Œæœ«å°¾æ·»åŠ æ¢è¡Œç¬¦</li>
</ol>
<h1>DataWriter ä½¿ç”¨æ•™ç¨‹</h1>
<p>DataWriter æ˜¯ä¸€ä¸ªç”¨äºå‘è¾“å‡ºæµå†™å…¥æ•°æ®çš„å†™å…¥å™¨ç±»ã€‚å®ƒæ”¯æŒå‘æ–‡ä»¶ã€å¥—æ¥å­—æˆ–ç¼“å†²åŒºç­‰ç›®æ ‡å†™å…¥åŸå§‹å­—èŠ‚æ•°æ®ï¼Œå¹¶æä¾›äº†ç¼“å†²åŠŸèƒ½ä»¥æé«˜å†™å…¥æ•ˆç‡ã€‚</p>
<h2>ä¸»è¦åŠŸèƒ½ç‰¹æ€§</h2>
<ol>
<li><strong>å¤šç§æ•°æ®å†™å…¥æ–¹å¼</strong>ï¼šæ”¯æŒä»è¾“å…¥æµå¤åˆ¶æ•°æ®ã€å†™å…¥å­—èŠ‚æ•°ç»„ç­‰</li>
<li><strong>ç¼“å†²æ”¯æŒ</strong>ï¼šé»˜è®¤å¯ç”¨ç¼“å†²åŠŸèƒ½ï¼Œæé«˜å†™å…¥æ€§èƒ½</li>
<li><strong>çµæ´»çš„å­—èŠ‚æ•°ç»„å†™å…¥</strong>ï¼šæ”¯æŒå†™å…¥å®Œæ•´å­—èŠ‚æ•°ç»„æˆ–æŒ‡å®šèŒƒå›´çš„æ•°æ®</li>
<li><strong>ä¸è‡ªåŠ¨å…³é—­æµ</strong>ï¼šä¸ä¼šè‡ªåŠ¨å…³é—­è¾“å‡ºæµï¼Œç”±è°ƒç”¨è€…è´Ÿè´£ç®¡ç†</li>
</ol>
<h2>åŸºæœ¬ä½¿ç”¨æ–¹æ³•</h2>
<h3>1. åˆ›å»ºå®ä¾‹</h3>
<pre><code class="language-java">// åˆ›å»º DataWriter å®ä¾‹
OutputStream outputStream = new FileOutputStream(&quot;output.txt&quot;);
DataWriter writer = new DataWriter(outputStream);
</code></pre>
<h3>2. ä»è¾“å…¥æµå¤åˆ¶æ•°æ®</h3>
<pre><code class="language-java">// ä»è¾“å…¥æµå¤åˆ¶æ•°æ®åˆ°è¾“å‡ºæµ
InputStream inputStream = new FileInputStream(&quot;input.txt&quot;);
OutputStream outputStream = new FileOutputStream(&quot;output.txt&quot;);
DataWriter writer = new DataWriter(outputStream);

writer.write(inputStream); // å¤åˆ¶æ•°æ®
// æ³¨æ„ï¼šéœ€è¦æ‰‹åŠ¨å…³é—­æµ
inputStream.close();
outputStream.close();
</code></pre>
<h3>3. å†™å…¥å­—èŠ‚æ•°ç»„</h3>
<pre><code class="language-java">// å†™å…¥å®Œæ•´å­—èŠ‚æ•°ç»„
byte[] data = &quot;Hello World&quot;.getBytes();
OutputStream outputStream = new FileOutputStream(&quot;output.txt&quot;);
DataWriter writer = new DataWriter(outputStream);

writer.write(data);
outputStream.close();
</code></pre>
<h3>4. å†™å…¥å­—èŠ‚æ•°ç»„æŒ‡å®šèŒƒå›´</h3>
<pre><code class="language-java">// å†™å…¥å­—èŠ‚æ•°ç»„çš„æŒ‡å®šèŒƒå›´
byte[] data = &quot;Hello World&quot;.getBytes();
OutputStream outputStream = new FileOutputStream(&quot;output.txt&quot;);
DataWriter writer = new DataWriter(outputStream);

// å†™å…¥ä»åç§»é‡2å¼€å§‹çš„5ä¸ªå­—èŠ‚
writer.write(data, 2, 5); // å†™å…¥ &quot;llo W&quot;
outputStream.close();
</code></pre>
<h2>é…ç½®é€‰é¡¹</h2>
<pre><code class="language-java">// ç¦ç”¨ç¼“å†²åŠŸèƒ½ï¼ˆä¸æ¨èï¼‰
OutputStream outputStream = new FileOutputStream(&quot;output.txt&quot;);
DataWriter writer = new DataWriter(outputStream);
writer.setBuffered(false);
</code></pre>
<h3>æ³¨æ„äº‹é¡¹</h3>
<ol>
<li>DataWriter ä¸ä¼šè‡ªåŠ¨å…³é—­è¾“å‡ºæµï¼Œéœ€è¦è°ƒç”¨è€…æ‰‹åŠ¨ç®¡ç†æµçš„å…³é—­</li>
<li>é»˜è®¤å¯ç”¨ç¼“å†²åŠŸèƒ½ï¼Œç¦ç”¨ç¼“å†²ä¼šç»™å‡ºè­¦å‘Šæç¤º</li>
<li>æ‰€æœ‰æ–¹æ³•åœ¨å‘ç”ŸIOé”™è¯¯æ—¶éƒ½ä¼šæŠ›å‡º <code>UncheckedIOException</code></li>
<li>å½“åç§»é‡å’Œé•¿åº¦éƒ½ä¸º0æ—¶ï¼Œ<code>write(byte[], int, int)</code> æ–¹æ³•ä¼šå†™å…¥æ•´ä¸ªå­—èŠ‚æ•°ç»„</li>
</ol>

            </article>
        </div>

       <footer>
            AJ-Utilï¼Œå¼€æºæ¡†æ¶ <a href="https://framework.ajaxjs.com" target="_blank">AJ-Framework</a> çš„ä¸€éƒ¨åˆ†ã€‚è”ç³»æ–¹å¼ï¼š
            frank@ajaxjs.comï¼Œ<a href="https://blog.csdn.net/zhangxin09" target="_blank">ä½œè€…åšå®¢</a>
            <br />
            <br />
            Copyright Â© 2025 Frank Cheung. All rights reserved.
        </footer>
    </body>
</html>